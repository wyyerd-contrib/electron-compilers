'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _compilerBase = require('../compiler-base');

const inputMimeTypes = ['text/cson'];
let CSON = null;

/**
 * @access private
 */
class CSONCompiler extends _compilerBase.SimpleCompilerBase {
  constructor() {
    super();
  }

  static getInputMimeTypes() {
    return inputMimeTypes;
  }

  compileSync(sourceCode, filePath) {
    // eslint-disable-line no-unused-vars
    CSON = CSON || require('cson');

    let result = CSON.parse(sourceCode);

    return {
      code: JSON.stringify(result),
      mimeType: 'application/json'
    };
  }

  getCompilerVersion() {
    return require('cson/package.json').version;
  }
}
exports.default = CSONCompiler;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9qc29uL2Nzb24uanMiXSwibmFtZXMiOlsiaW5wdXRNaW1lVHlwZXMiLCJDU09OIiwiQ1NPTkNvbXBpbGVyIiwiY29uc3RydWN0b3IiLCJnZXRJbnB1dE1pbWVUeXBlcyIsImNvbXBpbGVTeW5jIiwic291cmNlQ29kZSIsImZpbGVQYXRoIiwicmVxdWlyZSIsInJlc3VsdCIsInBhcnNlIiwiY29kZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJtaW1lVHlwZSIsImdldENvbXBpbGVyVmVyc2lvbiIsInZlcnNpb24iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOztBQUVBLE1BQU1BLGlCQUFpQixDQUFDLFdBQUQsQ0FBdkI7QUFDQSxJQUFJQyxPQUFPLElBQVg7O0FBRUE7OztBQUdlLE1BQU1DLFlBQU4sMENBQThDO0FBQzNEQyxnQkFBYztBQUNaO0FBQ0Q7O0FBRUQsU0FBT0MsaUJBQVAsR0FBMkI7QUFDekIsV0FBT0osY0FBUDtBQUNEOztBQUVESyxjQUFZQyxVQUFaLEVBQXdCQyxRQUF4QixFQUFrQztBQUFFO0FBQ2xDTixXQUFPQSxRQUFRTyxRQUFRLE1BQVIsQ0FBZjs7QUFFQSxRQUFJQyxTQUFTUixLQUFLUyxLQUFMLENBQVdKLFVBQVgsQ0FBYjs7QUFFQSxXQUFPO0FBQ0xLLFlBQU1DLEtBQUtDLFNBQUwsQ0FBZUosTUFBZixDQUREO0FBRUxLLGdCQUFVO0FBRkwsS0FBUDtBQUlEOztBQUVEQyx1QkFBcUI7QUFDbkIsV0FBT1AsUUFBUSxtQkFBUixFQUE2QlEsT0FBcEM7QUFDRDtBQXRCMEQ7a0JBQXhDZCxZIiwiZmlsZSI6ImNzb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1NpbXBsZUNvbXBpbGVyQmFzZX0gZnJvbSAnLi4vY29tcGlsZXItYmFzZSc7XG5cbmNvbnN0IGlucHV0TWltZVR5cGVzID0gWyd0ZXh0L2Nzb24nXTtcbmxldCBDU09OID0gbnVsbDtcblxuLyoqXG4gKiBAYWNjZXNzIHByaXZhdGVcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ1NPTkNvbXBpbGVyIGV4dGVuZHMgU2ltcGxlQ29tcGlsZXJCYXNlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIHN0YXRpYyBnZXRJbnB1dE1pbWVUeXBlcygpIHtcbiAgICByZXR1cm4gaW5wdXRNaW1lVHlwZXM7XG4gIH1cblxuICBjb21waWxlU3luYyhzb3VyY2VDb2RlLCBmaWxlUGF0aCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAgQ1NPTiA9IENTT04gfHwgcmVxdWlyZSgnY3NvbicpO1xuXG4gICAgbGV0IHJlc3VsdCA9IENTT04ucGFyc2Uoc291cmNlQ29kZSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgY29kZTogSlNPTi5zdHJpbmdpZnkocmVzdWx0KSxcbiAgICAgIG1pbWVUeXBlOiAnYXBwbGljYXRpb24vanNvbidcbiAgICB9O1xuICB9XG5cbiAgZ2V0Q29tcGlsZXJWZXJzaW9uKCkge1xuICAgIHJldHVybiByZXF1aXJlKCdjc29uL3BhY2thZ2UuanNvbicpLnZlcnNpb247XG4gIH1cbn1cbiJdfQ==